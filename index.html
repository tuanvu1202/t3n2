<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Learn & Play with AI</title>
</head>

<body>
<div id="game-app">
  <div id="container">

    <!-- HOME -->
    <div id="screen-home" class="screen active">
      <h1 style="color:#ffde59;text-shadow:2px 2px #000;font-size:28px;">ü§ñ Learn & Play with AI</h1>
      <p>Ch·ªçn ƒë·ªô kh√≥ ƒë·ªÉ th·ª≠ th√°ch b·∫£n th√¢n:</p>
      <div class="menu">
        <button class="btn btn-easy" onclick="setDiff('Easy')">EASY</button>
        <button class="btn btn-med" onclick="setDiff('Medium')">MEDIUM</button>
        <button class="btn btn-hard" onclick="setDiff('Hard')">HARD</button>
      </div>
    </div>

    <!-- MODE -->
    <div id="screen-modes" class="screen">
      <h2 id="diff-tag" style="color:#ffde59;"></h2>
      <div class="menu">
        <button class="btn mode-btn" onclick="startQuiz('Vocabulary')">Vocabulary</button>
        <button class="btn mode-btn" onclick="startQuiz('Grammar')">Grammar</button>
        <button class="btn mode-btn" onclick="startQuiz('Sentence')">Sentence</button>
      </div>
      <button class="btn-back" onclick="showScreen('screen-home')">‚Üê Quay l·∫°i</button>
    </div>

    <!-- QUIZ -->
    <div id="screen-quiz" class="screen">
      <div id="q-header">
        <span id="q-count"></span>
        <div class="progress-container"><div id="bar"></div></div>
      </div>
      <h3 id="question-text"></h3>
      <div id="options-box"></div>
      <p id="instant-feedback"></p>
    </div>

    <!-- RESULT -->
    <div id="screen-result" class="screen">
      <h2 id="result-title"></h2>
      <img id="meme-result">
      <p id="result-text"></p>
      <button class="btn btn-easy" onclick="showScreen('screen-modes')">Ti·∫øp t·ª•c</button>
      <button class="btn-back" onclick="showScreen('screen-home')">V·ªÅ trang ch√≠nh</button>
    </div>

  </div>
</div>

<style>
body{background:#1a1a2e;font-family:Segoe UI;color:white;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}
#container{background:#16213e;width:90%;max-width:450px;padding:25px;border-radius:20px;border:4px solid #e94560}
.screen{display:none}
.active{display:block;animation:fade .3s}
@keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1}}
.btn{width:100%;padding:15px;margin:10px 0;border:none;border-radius:10px;font-weight:bold;cursor:pointer}
.btn-easy{background:#4CAF50;color:white}
.btn-med{background:#FFC107;color:#000}
.btn-hard{background:#F44336;color:white}
.mode-btn{background:#0f3460;color:white;border:1px solid #e94560}
.ans-btn{background:#ffffff1a;color:white;border:1px solid #ffffff33;text-align:left}
.ans-btn:hover{background:#e94560}
.progress-container{height:12px;background:#0f3460;border-radius:6px;margin:15px 0}
#bar{height:100%;background:linear-gradient(90deg,#e94560,#ffde59);width:0%}
#meme-result{width:100%;max-width:280px;border-radius:15px;margin:15px auto;display:none}
.btn-back{background:none;color:#aaa;border:none;text-decoration:underline;cursor:pointer}
</style>

<script>
const memesWrong=[
"https://i.pinimg.com/736x/72/1b/11/721b11322e890e5ec46ed3c7a2c07190.jpg"
];
const memesCorrect=[
"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcStOU6D7bjPTtUaU_UF0mqZpoNmvxU4YZWP52WG5NRr4sAMq8Mo13JgA-X96lVzHhkeVuU"
];

const soundCorrect=new Audio("https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3");
const soundWrong=new Audio("https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3");

const gameData={
Easy:{
Vocabulary:[
{q:"Nghƒ©a c·ªßa virtual?",a:"·∫£o",opts:["·∫£o","th·∫≠t","con ng∆∞·ªùi"]},
{q:"Nghƒ©a c·ªßa data?",a:"d·ªØ li·ªáu",opts:["d·ªØ li·ªáu","tin ƒë·ªìn","b·ªô nh·ªõ"]}
]
}
};

let currentDiff="",currentMode="",questions=[],currentIndex=0,score=0;

function showScreen(id){
document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

function setDiff(d){
currentDiff=d;
document.getElementById("diff-tag").innerText=`C·∫•p ƒë·ªô: ${d}`;
showScreen("screen-modes");
}

function startQuiz(m){
currentMode=m;
questions=[...gameData[currentDiff][currentMode]];
currentIndex=0;score=0;
showScreen("screen-quiz");
loadQuestion();
}

function loadQuestion(){
const q=questions[currentIndex];
document.getElementById("q-count").innerText=`C√¢u ${currentIndex+1}/${questions.length}`;
document.getElementById("bar").style.width=((currentIndex+1)/questions.length*100)+"%";
document.getElementById("question-text").innerText=q.q;
const box=document.getElementById("options-box");
box.innerHTML="";
q.opts.forEach(opt=>{
const b=document.createElement("button");
b.className="btn ans-btn";
b.innerText=opt;
b.onclick=()=>handleAnswer(opt,q.a);
box.appendChild(b);
});
}

function handleAnswer(sel,cor){
document.querySelectorAll(".ans-btn").forEach(b=>b.disabled=true);
if(sel===cor){score++;soundCorrect.play()}
else{soundWrong.play()}
setTimeout(()=>{
currentIndex++;
currentIndex<questions.length?loadQuestion():showResult();
},1000);
}

function showResult(){
showScreen("screen-result");
const img=document.getElementById("meme-result");
img.style.display="block";
if(score>=1){
img.src=memesCorrect[0];
document.getElementById("result-title").innerText="Tuy·ªát v·ªùi!";
document.getElementById("result-text").innerText=`B·∫°n ƒë√∫ng ${score}/${questions.length} c√¢u`;
}else{
img.src=memesWrong[0];
document.getElementById("result-title").innerText="C·ªë l√™n!";
document.getElementById("result-text").innerText=`B·∫°n ƒë√∫ng ${score}/${questions.length} c√¢u`;
}
}
</script>
</body>
</html>
